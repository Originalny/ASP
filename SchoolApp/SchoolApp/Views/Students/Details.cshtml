@model SchoolApp.Models.Student
@{
    ViewData["Title"] = "Студент";
    Layout = "_Layout";
}
<h3 class="mb-3">@Model.Name</h3>
<div class="mb-2 text-muted">@Model.Email</div>

<h5 class="mt-4">Курсы студента</h5>
@if (Model.Enrollments.Any())
{
    <ul class="list-group mb-3">
        @foreach (var e in Model.Enrollments)
        {
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <span>@e.Course?.Title</span>
                <form asp-controller="Courses" asp-action="RemoveStudent" method="post" class="m-0">
                    <input type="hidden" name="courseId" value="@e.CourseId" />
                    <input type="hidden" name="studentId" value="@Model.Id" />
                    <button class="btn btn-sm btn-outline-danger">Исключить</button>
                </form>
            </li>
        }
    </ul>
}
else
{
    <div class="alert alert-info">Пока не записан ни на один курс.</div>
}

<h5 class="mt-4">Записать на курс</h5>
<form asp-controller="Students" asp-action="AddCourse" method="post" class="row g-2">
    <input type="hidden" name="StudentId" value="@Model.Id" />
    <div class="col-md-6">
        <select class="form-select" name="CourseId">
            @foreach (var c in (IEnumerable<SchoolApp.Models.Course>)ViewBag.FreeCourses)
            {
                <option value="@c.Id">@c.Title</option>
            }
        </select>
    </div>
    <div class="col-md-3">
        <input type="date" class="form-control" name="EnrollmentDate" value="@DateTime.Today.ToString("yyyy-MM-dd")" />
    </div>
    <div class="col-md-3">
        <button class="btn btn-success w-100">Записать</button>
    </div>
</form>
